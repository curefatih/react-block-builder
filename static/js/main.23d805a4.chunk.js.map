{"version":3,"sources":["../../src/components/Block/Block.tsx","../../src/components/BlockWrapper/BlockWrapper.tsx","App.tsx","index.tsx"],"names":["Block","props","mouseDown","x","y","offsetX","offsetY","mouseOffsetX","mouseOffsetY","el","React","current","setPos","offsetTop","className","styles","onMouseMove","e","pos","style","position","left","top","onMouseDown","onMouseUp","BlockContext","BlockWrapper","blockEl","handleResize","block","rect","window","value","ref","blockStyle","App","margin","height","width","head","allowInner","parentPos","ReactDOM","render","document","getElementById"],"mappings":"+XAUaA,EAAgCC,YAC3C,MAAsB,mBAAe,CACnCC,WADmC,EAEnCC,EAFmC,EAGnCC,EAHmC,EAInCC,QAJmC,EAKnCC,QALmC,EAMnCC,aANmC,EAOnCC,aAAc,IAPhB,mBAAM,EAAN,KAAM,EAAN,KAWMC,EAAKC,iBAAX,MAEAA,qBAAgB,WACd,GAAID,EAAJ,QAAgB,CACd,IAAME,EAAUF,EAAhB,QAEAG,EAAO,8BAAD,IAEJT,EAAGF,cAAqBA,kBAFnB,EAGLG,EAAGH,cAAqBA,mBAHnB,EAILI,QAASM,EAJJ,WAKLL,QAASK,EAAQE,gBATvBH,IAkDA,OACE,+BACEI,UAAWC,EACXC,YAzBqBC,YAEvB,GAAIC,EAAJ,UAAmB,CAGDD,SAAhB,wBAEAL,EAAO,8BAAD,IAEJT,EAAGc,UAAYC,EAAZD,aAA+BhB,YAF7B,EAGLG,EAAGa,UAAYC,EAAZD,aAA+BhB,YAAgBG,OAgBpDe,MAAK,aACHC,SADK,WAELC,KAAM,GAAF,OAAKH,EAFJ,EAED,MACJI,IAAK,GAAF,OAAKJ,EAHH,EAGF,OACAjB,EAAMkB,QAGX,+BACEI,YA9CmBN,YAEvB,IAAMN,EAAUM,SAAhB,wBAEAL,EAAO,8BAAD,IAEJV,WAFK,EAGLK,aAAcU,UAAYN,EAHrB,KAILH,aAAcS,UAAYN,EAAQW,QAuChCE,UApBgB,WACpBZ,EAAO,8BAAD,IAEJV,WAAW,MAkBTY,UAAS,UAAKC,EAAL,aAAqBd,EAAD,YAAqBc,IAEjDd,EAfL,MAkBIA,cACE,wCACE,+BAAKa,UAAWC,GACbd,EAFL,UAIE,+BAAKa,UAAWC,GACbd,EAzBb,S,wCChEWwB,EAAef,wBAArB,MAEMgB,EAAgBzB,YAC3B,MAAsBS,mBAAtB,uBAAM,EAAN,KAAM,EAAN,KACMiB,EAAUjB,iBAAhB,MAEMkB,EAAe,WACnB,GAAID,EAAJ,QAAqB,SAEbE,EAAQF,EAAd,QAEAE,eAAoB,UAAAA,EAAA,kDAApBA,UACAA,gBAAqB,UAAAA,EAAA,mDAArBA,UAEA,IAAMC,EAAOD,EAAb,wBACAjB,OAeJ,OAXAF,qBAAgB,WAMd,OAJAkB,IAEAG,oCAEO,WACLA,0CAPJrB,IAYE,wBAACe,EAAD,UAAuBO,MAAOd,GAC5B,+BAAKe,IAAKN,EAASb,UAAWC,EAAqBI,MAAOlB,EAAMiC,YAC7DjC,WAHP,MCdakC,G,MArBH,WACV,OACE,yBAAKrB,UAAU,GAAGK,MAAO,CAAEiB,OAAQ,SAAUC,OAAQ,QAASC,MAAO,UACnE,kBAAC,EAAD,CACEJ,WAAY,CACVG,OAAQ,WAGT,SAACL,GAAD,OACC,sDAEE,kBAAC,EAAD,CAAOO,KAAK,UAAUC,YAAU,EAACC,UAAWT,EAAOb,MAAO,CAAEmB,MAAO,MAAnE,+BCVZI,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U","file":"static/js/main.23d805a4.chunk.js","sourcesContent":["import * as React from 'react';\nimport styles from './styles.module.css';\n\nexport interface BlockProps extends React.HTMLAttributes<HTMLDivElement> {\n  head: string;\n  foot?: string;\n  allowInner?: boolean;\n  parentPos: DOMRect\n}\n\nexport const Block: React.SFC<BlockProps> = (props: BlockProps) => {\n  const [pos, setPos] = React.useState({\n    mouseDown: false,\n    x: 0,\n    y: 0,\n    offsetX: 0,\n    offsetY: 0,\n    mouseOffsetX: 0,\n    mouseOffsetY: 0,\n  });\n\n\n  const el = React.useRef<HTMLDivElement>(null);\n\n  React.useEffect(() => {\n    if (el.current) {\n      const current = el.current;\n\n      setPos({\n        ...pos,\n        x: props.parentPos.x + (props.parentPos.width / 2),\n        y: props.parentPos.y + (props.parentPos.height / 2),\n        offsetX: current.offsetLeft,\n        offsetY: current.offsetTop,\n      })\n    }\n  }, [])\n\n\n\n  const handleMouseDown = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n    // @ts-ignore\n    const current = e.target.getBoundingClientRect()\n\n    setPos({\n      ...pos,\n      mouseDown: true,\n      mouseOffsetX: e.clientX - current.left,\n      mouseOffsetY: e.clientY - current.top\n    })\n  }\n\n  const handleMouseMove = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n\n    if (pos.mouseDown) {\n\n      // @ts-ignore\n      const current = e.target.getBoundingClientRect()\n\n      setPos({\n        ...pos,\n        x: e.clientX - pos.mouseOffsetX - props.parentPos.x,\n        y: e.clientY - pos.mouseOffsetY - props.parentPos.y\n      })\n    }\n  }\n\n  const handleMouseUp = () => {\n    setPos({\n      ...pos,\n      mouseDown: false\n    })\n  }\n\n  return (\n    <div\n      className={styles.block}\n      onMouseMove={handleMouseMove}\n      style={{\n        position: \"absolute\",\n        left: `${pos.x}px`,\n        top: `${pos.y}px`,\n        ...props.style\n      }}\n    >\n      <div\n        onMouseDown={handleMouseDown}\n        onMouseUp={handleMouseUp}\n        className={`${styles.head} ${!props.allowInner && styles.rounded}`}\n      >\n        {props.head}\n      </div>\n      {\n        props.allowInner && (\n          <React.Fragment>\n            <div className={styles.content}>\n              {props.children}\n            </div>\n            <div className={styles.foot}>\n              {props.foot}\n            </div>\n          </React.Fragment>\n        )\n      }\n    </div>\n  );\n};\n","import * as React from 'react'\nimport styles from './styles.module.css'\n\ninterface Props extends React.HTMLAttributes<HTMLDivElement> {\n  blockStyle?: React.CSSProperties,\n  // Here i used Function as type but probably wrong\n  children: Function\n}\n\n// idk, its necessary to give context but might need\nexport const BlockContext = React.createContext<any>(null);\n\nexport const BlockWrapper = (props: Props) => {\n  const [pos, setPos] = React.useState({} as DOMRect);\n  const blockEl = React.useRef<HTMLDivElement>(null);\n\n  const handleResize = () => {\n    if (blockEl.current) {\n\n      const block = blockEl.current;\n\n      block.style.width = block.parentElement?.style.width || \"inherit\";\n      block.style.height = block.parentElement?.style.height || \"inherit\";\n\n      const rect = block.getBoundingClientRect();\n      setPos(rect);\n    }\n  }\n\n  React.useEffect(() => {\n\n    handleResize();\n\n    window.addEventListener(\"resize\", handleResize);\n\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    }\n  }, [])\n\n  return (\n    <BlockContext.Provider value={pos}>\n      <div ref={blockEl} className={styles.blockBuilder} style={props.blockStyle}>\n        {props.children(pos)}\n      </div>\n    </BlockContext.Provider>\n  )\n}\n","import React from 'react'\n\nimport { BlockWrapper, Block } from 'block-builder'\nimport 'block-builder/dist/index.css'\n\nconst App = () => {\n  return (\n    <div className=\"\" style={{ margin: \"0 auto\", height: \"500px\", width: \"500px\" }}>\n      <BlockWrapper\n        blockStyle={{\n          height: \"100px\"\n        }}\n      >\n        {(value: DOMRect) =>\n          <>\n            Your components\n            <Block head=\"Heading\" allowInner parentPos={value} style={{ width: 300 }}>\n              Also your components\n            </Block>\n          </>\n        }\n      </BlockWrapper>\n    </div>\n  )\n}\n\nexport default App\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}